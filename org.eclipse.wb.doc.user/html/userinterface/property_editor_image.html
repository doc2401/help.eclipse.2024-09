<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.20">
<title>Icon / Image Editor</title>
<style>
P.Code {
	display: block;
	text-align: left;
	text-indent: 0.00pt;
	margin-top: 0.000000pt;
	margin-bottom: 0.000000pt;
	margin-right: 0.000000pt;
	margin-left: 15pt;
	font-size: 10.000000pt;
	font-weight: normal;
	font-style: normal;
	color: #4444CC;
	text-decoration: none;
	vertical-align: baseline;
	text-transform: none;
	font-family: "Courier New", Courier, monospace;
}
H6.CaptionFigColumn {
	display: block;
	text-align: left;
	text-indent: 0.000000pt;
	margin-top: 3.000000pt;
	margin-bottom: 11.000000pt;
	margin-right: 0.000000pt;
	margin-left: 0.000000pt;
	font-size: 9.000000pt;
	font-weight: normal;
	font-style: Italic;
	color: #000000;
	text-decoration: none;
	vertical-align: baseline;
	text-transform: none;
}
P.Note {
	display: block;
	text-align: left;
	text-indent: 0pt;
	margin-top: 19.500000pt;
	margin-bottom: 19.500000pt;
	margin-right: 0.000000pt;
	margin-left: 30pt;
	font-size: 11.000000pt;
	font-weight: normal;
	font-style: Italic;
	color: #000000;
	text-decoration: none;
	vertical-align: baseline;
	text-transform: none;
}
EM.UILabel {
	font-weight: Bold;
	font-style: normal;
	text-decoration: none;
	vertical-align: baseline;
	text-transform: none;
}
EM.CodeName {
	font-weight: Bold;
	font-style: normal;
	text-decoration: none;
	vertical-align: baseline;
	text-transform: none;
	font-family: "Courier New", Courier, monospace;
}

body, html { border: 0px }


/* following font face declarations need to be removed for DBCS */

body, h1, h2, h3, h4, h5, h6, p, table, td, caption, th, ul, ol, dl, li, dd, dt {font-family: Arial, Helvetica, sans-serif; color: #000000}
pre				{ font-family: "Courier New", Courier, monospace;}

/* end font face declarations */

/* following font size declarations should be OK for DBCS */

body, h1, h2, h3, h4, h5, h6, p, table, td, caption, th, ul, ol, dl, li, dd, dt {font-size: 10pt; }
pre				{ font-size: 10pt}

/* end font size declarations */

body	     { background: #FFFFFF; margin-bottom: 1em }
h1           { font-size: 18pt; margin-top: 5; margin-bottom: 1 }	
h2           { font-size: 14pt; margin-top: 25; margin-bottom: 3 }
h3           { font-size: 11pt; margin-top: 20; margin-bottom: 3 }
h4           { font-size: 10pt; margin-top: 20; margin-bottom: 3; font-style: italic }
p            { margin-top: 10px; margin-bottom: 10px }
pre          { margin-left: 6; font-size: 9pt; } // color: #4444CC 
/*a:link	     { color: #0000FF }*/
/*a:hover	     { color: #000080 }*/
/*a:visited    { text-decoration: underline }*/
ul	     { margin-top: 10px; margin-bottom: 10px; }
li	     { margin-top: 5px; margin-bottom: 5px; } 
li p	     { margin-top: 5px; margin-bottom: 5px; }
ol	     { margin-top: 10px; margin-bottom: 10px; }
dl	     { margin-top: 10px; margin-bottom: 10px; }
dt	     { margin-top: 5px; margin-bottom: 5px; font-weight: bold; }
dd	     { margin-top: 5px; margin-bottom: 5px; }
strong	     { font-weight: bold}
em	     { font-style: italic}
var	     { font-style: italic}
div.revision { border-left-style: solid; border-left-width: thin; 
				   border-left-color: #7B68EE; padding-left:5 }
th	     { font-weight: bold }

a.command-link {
}
a.command-link img {
	border-width: 0px;
	border-style: none;
	vertical-align: middle;
}

pre code {
	display: block;
	border: 1px solid gray;
	margin: 1em;
	padding: 1em;
	background-color: #F3F3F3;
}

</style>
</head>
<body class="book">
<div id="header">
<h1>Icon / Image Editor</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><span class="image"><img src="images/property_editor_image1.png" alt="image" width="306" height="18"></span>Â 
<span class="image"><img src="images/property_editor_image2.png" alt="image" width="282" height="18"></span></p>
</div>
<div class="paragraph">
<p>Click the <span class="image"><img src="images/ellipses.png" alt="image"></span> button to access the <strong>Image
Chooser</strong> and select an icon or image.</p>
</div>
<div class="paragraph">
<p>The <strong>Image Chooser</strong> has options for selecting images defined in the
<strong>Classpath</strong> or at an <strong>Absolute path in the file system</strong>. Options are
also provided to set the image to <strong>null</strong> or remove any generated image.
A preview of the selected image is shown on the right.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/property_editor_image3.png" alt="image" width="879" height="736"></span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_user_extensions">User Extensions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The processors that the transformation from and to Java code are contributed
via the <code>org.eclipse.wb.core.java.imageProcessor</code> extension point
and contains the following fields:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>class</em> - Your custom image processor. This class should either extend
<code>org.eclipse.wb.core.editor.icon.AbstractClasspathImageProcessor</code> or
<code>org.eclipse.wb.core.editor.icon.AbstractFileImageProcessor</code>.</p>
</li>
<li>
<p><em>type</em> - The image type that is managed by this processor. Currently supported
types are:</p>
<div class="ulist">
<ul>
<li>
<p>Swing</p>
<div class="ulist">
<ul>
<li>
<p><code>java.awt.Image</code></p>
</li>
<li>
<p><code>javax.swing.Icon</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>SWT</p>
<div class="ulist">
<ul>
<li>
<p><code>org.eclipse.swt.graphics.Image</code></p>
</li>
<li>
<p><code>org.eclipse.jface.resource.ImageDescriptor</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><em>priority</em> - Determines the order in which the processors are executed. The
higher the priority, the earlier this contributed is handled.
All internal WindowBuilder contributions have a priority of <em>0</em>.
When a processor was able to handle an image, all remaining
processors are skipped.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/property_editor_image4.png" alt="image"></span></p>
</div>
<div class="paragraph">
<p>The <code>process</code> method of the image processor class is used to transform the
expression in the Java code to a humanly-readable string. This string is
then displayed in the property table. The <code>postOpen</code> method is used to convert
the path that was selected in the image editor to valid Java code. The class
(SwingImageIcon in the following example) must be in the classpath of the
current project.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>public class SwingImageProcessor extends AbstractClasspathImageProcessor {
	@Override
	public boolean process(IGenericProperty property, String[] value) {
		JavaInfo javaInfo = property.getJavaInfo();
		Expression expression = getFinalExpression(javaInfo, property.getExpression());
		if (expression instanceof ClassInstanceCreation creation) {
			if (AstNodeUtils.isCreation(creation, "imageProcessor.SwingImageIcon", "&lt;init&gt;(java.lang.String)" )) {
				StringLiteral resourceLiteral = (StringLiteral) creation.arguments().get(0);
				value[0] = prefix + resourceLiteral.getLiteralValue();
				return true;
			}
		}
		return false;
	}

	@Override
	public boolean postOpen(IGenericProperty property, String path, String[] value) {
		String pathSource = StringConverter.INSTANCE.toJavaSource(property.getJavaInfo(), path);
		value[0] = "new imageProcessor.SwingImageIcon(" + pathSource + ")";
		return true;
	}
}</pre>
</div>
</div>
</div>
</div>
</div>
</body>
</html>